Note 稳定性编程 fx


所乘坐的客机从生产到投入运营，任何细节都是将可靠性放在第一位的，简单来说，体现在:
设计阶段:
方案尽量简化，冗余设计，采用成熟经过验证的技术，标准化，健壮性设计等等.
测试阶段:
气动力试验,环境试验, 可靠性与寿命试验,真实试飞,各项极限测试等等
运行阶段:
执飞前检查，运行状态监控，定期维护检修.
机组:
持证上岗，定期培训，考核

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 10:42 pm]
运维记录，上线准备检查单，，事后补记录流程

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 10:42 pm]
版本更新说明

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 10:43 pm]
日志要考虑权限不足情况下。。日志定时清理也很需要

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 10:44 pm]
冗余设计，对于飞机而言，体现在机组包括机长副机长，引擎至少双发，操作系统至少两套等等，于我们的系统而言，则通常体现在:

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 10:44 pm]
荣誉设计 http 需要双发 重试机制

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:05 pm]
可靠性设计 检查 bot返回码 重试

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:05 pm]
bot返回码记录下来也 方便分析

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:06 pm]
队列重试

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:08 pm]
消息队列设计，每个消息储存下来 方便分析。处理完毕移动到完毕文件夹

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:10 pm]
责清晰，单一的系统，其稳定性保障的难度会小于大杂烩，功能繁多的系统，不同的业务功能，其业务特征，业务形态，业务量，资源使用形式，依赖关系都可能不同，如果混合在一个系统中，将很难避免相互影响

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:10 pm]
软件系统而言，本身是个比较大的命题，一般来讲是指系统的容错能力，无论是一次错误的输出，或是一个依赖服务的崩溃都不应该影响系统自身的服务能力和正确性，这一点本身不容易做到，但也有一些手段可以辅助我们尽可能做好:

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:11 pm]
风险预防

简单来说就是质量+容量+灰度+回滚。

良好的质量保障是保证系统稳定运行的重要基础，如同飞机制造过程中的质量控制，精细到每一个部件，完成后还会进行覆盖到每一个细节的测试验证一样，我们的每一个迭代，每一次变更都需要有完善的质量保障体

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:12 pm]
持续集成覆盖

代码CR

整体交付报告review

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:13 pm]
在监控的基础上，会配置各种各样的报警，关注各种指标的变化情况，每当出现异动都会触发报警，通常这些报警都是基于专家经验人为设置的，这样的典型结果是一方面我们可以知道现在系统上出现了异动，另一方面是这种异动可能因为业务发展带来的量级变化，偶然的抖动，不同时间段的差异等等原因带来海


十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:32 pm]
稳定性 上线操作手册，回退手册。。上线日志记录 新版本新特效

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:33 pm]
特性

十 jarkas 大鱼 刘洋 汤姆, [25/08/2023 11:33 pm]
版本回退机制

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:32 pm]
健壮性  默认值模式 不要有参数缺失补全。。全民排查 throw 去除，保证错误被try

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:33 pm]
可以var dump 不要。throw

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:35 pm]
每个api都自带ex补偿处理

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:36 pm]
call fun模式调用 aop自动ex不惑

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:39 pm]
一般有两种手法来处理这种情况：一种是判空处理，如(res  []).length，（res  {}).name等；另外一种是全部按理想情况写，但是外层用try{...}catch(){...}包裹，一有异常就抛出去，通过过滤错误来确保try后面的代码仍能正常执行

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:43 pm]

十 jarkas 大鱼 刘洋 汤姆, [26/08/2023 12:44 pm]

