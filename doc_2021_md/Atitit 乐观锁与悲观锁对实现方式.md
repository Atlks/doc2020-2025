Atitit 乐观锁与悲观锁对实现方式


用数据版本（Version）记录机制实现，这是乐观锁最常用的一种实现方式
一般都是使用版本号机制来实现 MySQL 数据库中的乐观锁。
版本号的实现方式有两种，一个是数据版本机制，一个是时间戳机制。
时间戳机制实现乐观锁
使用时间戳机制实现乐观锁原理类似，同样是在需要乐观锁控制的 table 中增加一个字段，名称无所谓，字段类型时间 timestamp，和上面的 version 类似，也是在更新提交时检查当前数据库中的时间戳和自己更新前提取到的时间戳进行对比，如果一致则 OK，否则就是版本冲突。



MySQL 中的悲观锁大部分情况下依赖数据库的锁机制实现
，一般使用 SELECT ... FOR UPDATE 对选择的数据进行加锁处理，例如
