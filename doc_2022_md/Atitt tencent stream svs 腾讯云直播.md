Atitt tencent stream svs 腾讯云直播


步骤1：添加域名 一个作为推流域名，一个作为播放域名
使用云直播服务，至少需要2个域名，一个作为推流域名，一个作为播放域名，推流和播放不能使用相同的域名。
准备自有域名，并完成域名备案。
若您需要购买域名，可前往 域名注册完成 
云直播默认提供测试域名xxxx.livepush.myqcloud.com，您可通过该域名进行推流测试，但不建议您在正式业务中使用这个域名作为推流域名。
域名添加成功后，您可通过 域名管理 的域名列表查看域名信息。若您需要对已添加成功的域名进行管理，请参见 域名管理。

域名添加成功后，系统会为您自动分配一个 CNAME 域名（以 .tlivecdn.com 或 .tlivepush.com 为后缀）。CNAME 域名不能直接访问，您需要在域名服务提供商处完成 CNAME 配置，配置生效后即可享受云直播服务。以 DNS 服务商为腾讯云为例，添加 CNAME 记录操作步骤如下：
登录 域名服务控制台。
选择您需添加 CNAME 的域名，单击 解析。
进入域名的解析页面，单击 添加记录。
在该新增列填写域名前缀为主机记录，选择记录类型为 CNAME，填写 CNAME 域名为记录值。
单击 保存 即可添加 CNAME 记录。
注意：


CNAME 成功后通常需要一定时间生效，CNAME 不成功是无法使用云直播的。
域名 CNAME 成功后，在云直播控制台的 域名管理列表中可见域名 CNAME 地址状态符号变成 。
若 CNAME 操作后，检测始终不成功，建议您向您的域名注册服务商咨询。
如果您使用其他 DNS 服务商，更多操作请参见 CNAME 配置。


步骤2：获取推流地址
选择 直播工具箱 > 地址生成器。
进入地址生成器页面，并进行如下配置：
选择生成类型：推流域名。
选择您在域名管理中已添加的推流域名。
填写 AppName，默认为 live。
填写自定义的流名称 StreamName，例如：liveteststream。
选择地址过期时间，例如：2021-05-31 23:59:59。
单击 生成地址 即可生成推流地址。

说明：
推流地址的结构如下，live为默认的 AppName，txSecret为播放推流的签名，txTime为推流地址的有效时间。
除上述方法，您还可以在云直播控制台的 域名管理中，选择推流域名单击 管理，选择 推流配置，输入推流地址的过期时间和自定义的流名称 StreamName，单击 生成推流地址 即可生成推流地址。
您可根据实际业务需求，在生成推流地址前配置创建对应的 功能模板，并关联到推流域名下。增值功能价格请参见 价格总览 。
步骤3：直播推流
您可根据业务场景将生成好的推流地址输入到对应的推流软件中。
PC 端推流，建议使用 OBS 推流 ，具体操作请参见 OBS推流。
Web 端推流，建议使用 Web 推流，选择您需推流的域名，填写自定义的流名称 StreamName，选择地址过期时间，打开摄像头，单击 开始推流 即可。
小程序推流，通过微信搜索小程序 “腾讯视频云”，选择 RTMP 推流，填入推流地址，单击 开始 开始推流。
移动端推流，下载安装 腾讯云工具包 App，打开选择 移动直播 MLVB > 推流演示（摄像头推流），手动输入或扫描二维码录入推流地址到地址编辑框内，单击 开始推流 即可成功推流。
说明：
步骤4：获取播放地址
推流成功后，选择 流管理> 在线流，查看推流地址状态，单击 测试 在线播放观看。
选择 直播工具箱 > 地址生成器 获取播放地址，在该页面进行如下配置：
选择生成类型：播放域名。
选择您在域名管理中已添加的播放域名。
填写 AppName，默认为 live。
填写与推流地址相同的 StreamName，播放地址 StreamName 要与推流地址 StreamName 一致才能播放对应的流。
选择地址过期时间，例如：2021-05-31 23:59:59。
若需生成转码后的直播播放地址，可选择转码模板。转码模板需提前绑定播放地址才可在此选择转码模板，具体绑定请参见 直播转码>关联域名。
单击 生成地址 即可生成播放地址。

您可以根据业务场景使用以下方式测试直播流是否能正常播放：
PC 端直播流测试，建议您使用 VLC 等工具进行播放体验，具体请参见 直播播放。
Web 端播放测试，建议您选用播放器 SDK 里的 TCPlayerLite 播放器 进行播放，具体请参见 直播播放。
小程序直播流测试，建议您通过微信搜索小程序 “腾讯视频云”，选中 直播播放，扫描直播地址二维码，单击左下角播放按钮播放观看。
移动端直播流测试，建议您下载安装 腾讯云工具包 App 打开选择 移动直播 MLVB > 标准直播播放，手动输入或扫描二维码录入播放地址到地址编辑框内，单击左下角播放按钮播放观看。
说明：
如需在 App 或小程序中进行进行推流/播放，可以集成 移动直播 SDK 配合云直播服务使用。试用过程中如果您遇到问题，建议您阅读云直播 常见问题 解答疑问。
相关操作
若需开启直播录制，可创建录制模板，并与域名进行配置关联。相关文档请参见 创建录制模板。
若需开启直播转码，可创建转码模板，并与域名进行配置关联。相关文档请参见 创建转码模板。
若需开启直播水印，可创建水印模板，并与域名进行配置关联。相关文档请参见 创建水印模板。
若需开启直播截图鉴黄，可创建截图鉴黄模板，并与域名进行配置关联。相关文档请参见 创建截图鉴黄模板。
若需实现直播混流功能，可通过调用混流 API 实现。相关文档请参见 直播混流。

