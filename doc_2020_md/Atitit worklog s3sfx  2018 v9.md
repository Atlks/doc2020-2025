Atitit worklog s3  2018.3


工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
  数据库Sql优化分区机制测试与检索
 分区sql生成工具增加每周模式 方便建立分区索引等。
 分区每周模式测试 貌似效果依然不明显
准备测试下压缩数据模式怎么样，导入导出库到本地。搜集查询关于数据库压缩的资料
和高鑫沟通交流了一些导入导出出现的问题与总结解决 导入导出库
字段压缩资料较少，直接启用文件压缩测试。貌似影响不大。。
都如到本地测试，发现速度有同样的sql提升1.8s到0.4s。。发现版本不同，搜集pg10.3新特性看是否参数有改进
  ##明日计划tomr plan：
 继续性能优化与分析  
##其他未尽事宜Backlog
S328 


2018.3.27 工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
与高鑫沟通交流索引方面的东西
 数据库Sql优化分区机制测试与检索
 与王杰沟通交流门诊医生项目方面的东西
门诊医生切换数据库测试
大表统计按照行数，体积 等
分区sql生成工具 方便建立分区索引等。
  ##明日计划tomr plan：
 继续性能优化与分析  
##其他未尽事宜Backlog



2018.3.26 工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
与高鑫沟通交流索引检索机制以及查询数据库所有索引定义的存储位置，最终在系统库找到了索引的定义存储。。
数据库Sql优化Cte机制测试与检索
分区资料收集，初步测试，总结文档
与王杰沟通交流门诊医生项目方面的东西
  ##明日计划tomr plan：
 继续性能优化与分析  
##其他未尽事宜Backlog


图像方面的 api ，普通处理推荐使用命令行调用  GraphicsMagick  ImageMagick 。跨语言 跨系统 ，效果堪比ps   。。。各大语言自带的图形库和os图像库处理效果就比较一般了。      
高级处理可以使用opencv

 



















2018.3.6 工作日志笔记记录
当前工作：
今日工作：
入职办理
设备与软硬件环境搭建
当前项目沟通了解
与耿帅沟通 初步解决postgresql日志暴增的解决方案，待服务器验证
明日计划：
 熟悉项目，集成操作日志

2018.3.7  工作日志笔记记录
当前工作：
熟悉项目，集成操作日志
postgresql日志暴增的解决
今日工作：
项目本地环境搭建运行ok
初步dubbo 调用模式ok
postgresql日志暴增的解决第二版，与耿帅沟通测试
操作日志模块从freecms系统剥离，模块化，增加测试postgresql数据库版，增加rest接口 ，集成微服务提供远程接口，操作日志模块界面ui从struts mvc增加vue.js h5 mvc ，以及由此带来的界面通讯接口变更调试
协助同事胡朝境 关于小型java容器化 微服务springboot ，以及程序打包运行启动器方面的东东
明日计划：
 操作日志模块注解添加     mq消息管理部分沟通与使用

其他未尽事宜
操作日志模块查询部分完善，与分页完善 对移动端的兼容支持 增加dubbo分布式接口














2018.3.8  工作日志笔记记录
当前工作：
熟悉项目，集成操作日志 使用mq  注解集成
今日工作：
与韩磊宏沟通，关于mq方面的接口等。。Mq方面接入
日志操作日志模块注解添加 测试
搭建本地mq环境，发现mq的spring版本与微服务的冲突，使用单独的嵌入式tomcat来解决
完善通用版互操作接口，用来在api级别，cli命令行级别，rest web远程接口级别使用
完善嵌入式tomcat的使用以及注解mvc的实现。。。

协助同事行政关于注解使用 反射api以及堆栈api 等StackTraceElement
协助同事胡朝境嵌入式tomcat与微服务端口设置等
明日计划：
操作日志模块查询部分完善，与分页完善 对移动端的兼容支持 增加dubbo分布式接口

其他未尽事宜





2018.3.9  工作日志笔记记录日报
#当前工作：
 集成操作日志 使用mq  注解集成
#今日工作：
*增加dubbo分布式接口
*增加操作日志api文档说明
*增加翻页文档说明
*操作日志模块查询部分完善，
分页完善 集成easyui翻页插件与vue集成
移动端的兼容支持  移动端测试
#明日计划：
#其他未尽事宜Backlog
移动端测试 可能因为wifi网络问题，数据显示不全待修正








2018.3.12  工作日志笔记记录日报
#当前工作：
完善操作日志 熟悉业务 
#今日工作：
与杨经理沟通bug事宜 以及 日志事项
与高鑫(高鑫_西安开发)沟通交流 医生后台业务系统流程
与韩磊宏(韩磊宏 西安_开发) 沟通交流，提升日志模块稳定性
 #明日计划：
Bug处理与日志集成

#其他未尽事宜Backlog



















.
2018.3.13  工作日志笔记记录日报
#当前工作：
完善操作日志 熟悉业务  
#今日工作：
业务继续熟悉，初步查看bug问题
吧日志功能集成入 cloudcommons 了。Spring注解版与普通注解版
Spring注解日志功能实现文档与 使用api文档手册撰写
 #明日计划：
集成测试 日志功能看有无类库冲突。。以及在调用项目集成测试
#其他未尽事宜Backlog

 









2018.3.14  工作日志笔记记录日报
#当前工作：
完善操作日志 熟悉业务  
#今日工作：
与杨经理沟通类库jar精简问题
 和韩磊红 沟通mq类库的问题，再次联调。。租后决定吧mq那边实现，以便精简mq包
和肖鹏沟通postgresql类库问题  ，确认删除了db包
Aspect包问题，确认添加
再次沟通，决定依然日志模块微服务模式rest接口
调整本机业务系统环境

 #明日计划：
日志模块 common库分支版本合并回 独立日志模块主干
本机业务中集成测试日志模块
 #其他未尽事宜Backlog






那我尽可能提交的时候把依赖都加上。。。。大家遇到编译错误可以忽略呀  忽略掉编译错误的java 正常java文件可以正常编译为class文件的。提升开发效率


2018.3.15  工作日志笔记记录日报
#当前工作：
完善操作日志 熟悉业务  
#今日工作：
初步分析代码，关联界面按钮与后端代码的关联 分析深入阅读代码
接入日志，代码量多，准备接入日志工具jar。。解决日志工具jar jdk版本编译不同匹配问题。。
简化工具类，增加 rest接口的api sdk转接口，方便使用
接入医院后台测试新开医嘱，发现日志模块包400 http错误。经过多重测试，估计可能是参数太长导致的，吧日志模块http模块增加post方法，在此测试ok
合并到common库，精简调用api到 一行，切换数据库测试，增加配置文件测试
日志模块 common库分支版本合并回 独立日志模块主干
本机业务中集成测试日志模块
保存为json mybatis调整花了点时间。Prop文件跨项目读取花了点时间修正完善

 #明日计划：
集成测试
 #其他未尽事宜Backlog


2018.3.16  工作日志笔记记录日报
#当前工作：
完善操作日志 优化代码 分析bug 与其他事项  
#今日工作：
 读取配置文件增加once模式。。
调整相关工具类命名，防止mybatis运行冲突。
协助同事王杰调优sql 性能问题。定位到具体若干行数，发现了个缺失索引，增加，测试发小改善不明显，在此扫描，发现是连接了一个视图造成的，打开视图比较复杂，反复测试定位了此问题。使用物化视图优化，增加测试视图测试效果很好解决了此问题。对物化视图的更新问题测试，触发器机制与定时机制或编程语言触发机制等解决方案。。
综合各大sql优化方法，尽可能完善了性能优化方面的文档
查找json字段的update，测试了好多方法，貌似只能整体更新，不能对某个内部json field更新。。总结了postgre json字段的操作文档总结。
与同事行政沟通json字段update问题，经过一番他的查找资料，得到相同结论只能整体更新
协助同事王杰tomcat与java app在eclipse环境下的heap 内存溢出解决，以及permgen  space调整。很久没用tomcat插件了，细节方面与张清华 西安_开发沟通交流这个tomcat情况。完善了下eclipse tomcat插件的发布与运行 调整机制。
与韩磊宏沟通，mybatis对json字段的调整，对json字段做了重复性约束索引uniq，测试总结 。交流mq消息系统queue模式的一些情况。
 #明日计划：
 #其他未尽事宜Backlog






























2018.3.19  工作日志笔记记录日报
#当前工作：
分析慢查询sql的原因  优化sql 与其他事项  
#今日工作：
开会沟通分析慢查询sql 的情况
和同事王杰  高鑫沟通宝田库的情况
协助高鑫join问题的解决 
和耿帅沟通肇庆库情况
搜集资料文档Pgsql 数据库关于索引 表行数 表数据 索引数据统计的sql统计，以便进行比较 方便找出慢查询原因
搜集资料优化方法大总结
从远程库获取数据库统计信息  索引信息以及数据表记录数量等。方便对比
  #明日计划：
对比索引，对比 数据总量对比 数据行数对比语分布 尽可能找出问题所在
 #其他未尽事宜Backlog







2018.3.20 工作日志笔记记录日报
##当前工作curr：
分析慢查询sql的原因 优化sql 与其他事项 
##今日工作today：
仔细对比从远程库获取数据库统计信息 索引信息以及数据表记录数量等
查询资料关于数据集合连接join算法的几种具体实现
对比同样sql在不同库的执行计划
查找分析资料关于数据库优化rbo cbo方面的。
分析sql语句，使用了函数貌似不少，可以使用函数索引优化，查找pgsql函数索引方面的资料搜集分析
尝试吧视图转化为函数索引，函数返回记录集方式，貌似不能生效
 与同事王杰 高鑫沟通分析情况
整理资料优化方法大总结 
搜集整理pgsql新特性，看能否为我所用
 ##明日计划tomr plan：
物化视图的自动更新 触发器函数实现 函数索引的实现
##其他未尽事宜Backlog





2018.3.21 工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
物化视图+触发器模式下的并发测试
物化视图的自动更新 触发器函数实现 函数索引的实现
增加物化视图java代码按时更新模式与测试
协助同事张清华关于pgsql汉字排序的问题
协助同事王杰性能问题分析
 在18库上使用实际库测试效果，不同的并发数量下的测试，以及禁用打开触发器模式的测试
为行政高鑫提供csdn账号帮助 以便下载项目所需重要资源
  ##明日计划tomr plan：
继续性能优化与分析
##其他未尽事宜Backlog






2018.3.22 工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
查看门诊医生项目代码，流程测试。一些问题语同事交流解决
仔细查看了一些项目功能方面的代码 ，做了对应的文档总结，方便检索
发现门诊医生首页ajax数据加载过大7M之多，需要优化，评估优化体积只有600kb，会有很大提升
搜集压缩方面的资料语整理。。Tomcat也支持设置gzip压缩
搜集资料设置tomcat的gzip压缩设置，但是在eclipse 环境下tomcat插件配置比较麻烦，经过一番分析，分析了tomcat插件配置文件所在，不知为什么设置了gzip不生效，只好使用filter模式实现了。
搜集资料做filter，成功实现了gzip压缩。经过测试7M的ajax数据压缩到800kb效果明显。首页其他文件也从3M压缩到600KB
eclipse tomcat插件配置文档整理更新
排查了其他几个页面的，也发现了若干个大数据加载需要优化的地方，整体几乎每个页面都有2-3M，很有必要优化
与高鑫沟通吧压缩配置到18测试服务器上以及测试效果

  ##明日计划tomr plan：
 继续性能优化与分析  完善压缩插件（排除图片等 url分析排除语设置 其他参数完善）
门诊医生代码继续熟悉 分析appcache机制 语其他cache机制优化性能
##其他未尽事宜Backlog





2018.3.23 工作日志笔记记录日报
##当前工作curr：
分析慢性能原因 协助优化性能 与其他事项 
##今日工作today：
压缩过滤器增加了对文件扩展名的排除 jpg png gif 以及 mime类型名单 json css js html类型的压缩。增加了对小体积文件的排除
对多个浏览器的支持压缩模式做了下测试统计，基本都支持gzip deflate模式，测试了下deflat模式，貌似和gzip效率差不多。
对特定业务数据压缩方法评估测试  json数字索引 csv格式  时间戳格式 json数字索引效果减少了约40%数据量，Csv格式在此基础上又可减少30% 时节戳模式减少10%
  对比不同汉字编码对数据体积的影响，比较大，gbk比utf可以体积缩小50%左右，压缩后依然这么影响存在。查找编码方面资料与整理 
大概规划了下企业内部汉字编码标准uke编码 ，以及对垂直领域医疗行业文字分析，预估垂直领域内一千字即可覆盖。通过对实际数据测试，因为实际数据汉字相对较少，更改未gbk编码后体积减少5--10%，不是很明显，先暂时不动文字编码这块
测试Appchache 以及CacheStorage 机制是的使用，appcache不好用，CacheStorage 改动较大，先不用
测试indexdb本地存储cache，做了api二次包装，使它简单化。实际效果不错，但是异步api使用比较麻烦 。。
对门诊首页增加了localStorage  本地cache模式，这个简单易用，效果显著，
协助同事行政关于压缩gzip的设置与使用，转发tomcat插件设置文档
  ##明日计划tomr plan：
 继续性能优化与分析  完善压缩插件（url分析排除语设置 超大数据读取体积的优化）
门诊医生代码继续熟悉 分析appcache机制 语其他cache机制优化性能
##其他未尽事宜Backlog







